{% extends "layouts/base.html" %}
{% block title %}Processor Dashboard{% endblock %}
{% block content %}
<main class="dashboard-main">

  <style>
    :root {
      --bg:#0f0f11;
      --panel:#15161a;
      --line:#2b2f36;
      --text:#e6e6e6;
      --muted:#a5a7ad;
      --accent:#7ab8ff;
      --hover:#1e2430;
      --glow:0 0 20px rgba(122,184,255,0.35);
    }

    body { background: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; }

    .dashboard-main {
      padding: 2rem;
      margin-left: 260px; /* offset for sidebar */
    }

    /* Header */
    .dash-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
    }
    .dash-header h1 {
      font-size: 1.8rem;
      color: var(--accent);
    }
    .dash-header p {
      color: var(--muted);
      margin-top: .3rem;
    }

    /* Stat Cards */
    .stat-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .stat-card {
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 1.2rem 1.4rem;
      box-shadow: var(--glow);
      transition: 0.2s;
    }
    .stat-card:hover {
      transform: translateY(-3px);
      background: var(--hover);
      box-shadow: 0 0 25px rgba(122,184,255,0.45);
    }
    .stat-card h2 {
      font-size: 2rem;
      color: #fff;
      margin-bottom: 0.2rem;
    }
    .stat-card p {
      color: var(--muted);
      font-size: 0.9rem;
    }

    /* AI Panel */
    .ai-summary {
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 1.2rem 1.4rem;
      margin-bottom: 2rem;
      box-shadow: inset 0 0 10px rgba(122,184,255,0.2);
    }
    .ai-summary h3 {
      color: var(--accent);
      margin-bottom: .5rem;
    }

    /* Quick Actions */
    .quick-actions {
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 1.2rem 1.4rem;
      box-shadow: var(--glow);
    }
    .quick-actions h3 {
      color: var(--accent);
      margin-bottom: 1rem;
    }
    .actions-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1rem;
    }
    .action-btn {
      display: flex;
      justify-content: center;
      align-items: center;
      background: var(--accent);
      color: #000;
      border-radius: 10px;
      padding: .8rem 1rem;
      font-weight: 600;
      text-decoration: none;
      transition: 0.2s;
    }
    .action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 0 18px rgba(122,184,255,0.45);
    }
  </style>

  <!-- Dashboard Header -->
  <div class="dash-header">
    <div>
      <h1>ğŸ§¾ Processor Dashboard</h1>
      <p>Monitor your loan pipeline, verify documents, and coordinate with borrowers & underwriters.</p>
    </div>
    <div>
      <a href="{{ url_for('processor.profile') }}" class="action-btn">ğŸ‘¤ My Profile</a>
    </div>
  </div>

  <!-- Stat Cards -->
  <div class="stat-grid">
    <div class="stat-card">
      <h2>{{ total_loans }}</h2>
      <p>Total Loans</p>
    </div>
    <div class="stat-card">
      <h2>{{ in_review }}</h2>
      <p>In Review</p>
    </div>
    <div class="stat-card">
      <h2>{{ cleared }}</h2>
      <p>Cleared</p>
    </div>
    <div class="stat-card">
      <h2>{{ pending_docs }}</h2>
      <p>Pending Documents</p>
    </div>
  </div>

  <!-- AI Summary -->
  <div class="ai-summary">
    <h3>ğŸ¤– AI Summary</h3>
    <p>{{ ai_summary }}</p>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions">
    <h3>âš¡ Quick Navigation</h3>
    <div class="actions-grid">
      <a href="{{ url_for('processor.loan_queue') }}" class="action-btn">ğŸ“‹ Loan Queue</a>
      <a href="{{ url_for('processor.verify_docs') }}" class="action-btn">âœ… Verify Docs</a>
      <a href="{{ url_for('processor.documents') }}" class="action-btn">ğŸ“ Documents</a>
      <a href="{{ url_for('processor.property_search') }}" class="action-btn">ğŸ˜ Property Search</a>
      <a href="{{ url_for('processor.ai_conversations') }}" class="action-btn">ğŸ’¬ AI Conversations</a>
      <a href="{{ url_for('processor.live_chat') }}" class="action-btn">ğŸ§  Live Chat</a>
      <a href="{{ url_for('processor.reports') }}" class="action-btn">ğŸ“Š Reports</a>
    </div>
  </div>

</main>
{% endblock %}
