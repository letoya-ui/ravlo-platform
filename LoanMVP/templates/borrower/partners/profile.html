{% extends "layouts/borrower_base.html" %}
{% block content %}

<div class="soft-card p-4 mb-4">
  <h2 class="mb-1">{{ partner.company }}</h2>
  <div class="text-muted">{{ partner.role|title }} â€¢ {{ partner.service_area }}</div>
  <div class="mt-3">{{ partner.bio }}</div>
</div>

<div class="soft-card p-4">
  <h4 class="mb-3">Request this Partner</h4>

  {% if existing and existing.status == "pending" %}
    <div class="alert alert-info">You already have a pending request.</div>
  {% elif existing and existing.status == "accepted" %}
    <div class="alert alert-success">You are connected with this partner.</div>
  {% endif %}

  <form method="POST" action="{{ url_for('borrower.request_partner', partner_id=partner.id) }}">
    <div class="mb-3">
      <label class="form-label">Category</label>
      <select name="category" class="form-select">
        <option value="">General</option>
        <option value="estimate">Estimate</option>
        <option value="inspection">Inspection</option>
        <option value="cleaning">Cleaning</option>
        <option value="design">Design</option>
        <option value="title">Title</option>
        <option value="insurance">Insurance</option>
      </select>
    </div>

    <div class="mb-3">
      <label class="form-label">Message</label>
      <textarea name="message" class="form-control" rows="4"
        placeholder="Tell them what you need, timeline, property address (if you want), etc."></textarea>
    </div>

    <button class="btn btn-primary">Send Request</button>
  </form>
</div>

{% endblock %}
