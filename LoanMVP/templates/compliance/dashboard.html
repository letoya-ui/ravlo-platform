{% extends "layouts/base.html" %}
{% block title %}Compliance â€¢ Dashboard{% endblock %}
{% block content %}
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<style>
  :root{--panel:#15161a;--line:#2a2e36;--text:#e6e6e6;--muted:#a5a7ad;--accent:#7ab8ff;--glow:0 0 18px rgba(122,184,255,.35);}
  .card{background:var(--panel);border:1px solid var(--line);border-radius:14px;padding:1rem;box-shadow:var(--glow);}
  .grid{display:grid;gap:1rem}.g-2{grid-template-columns:repeat(2,minmax(0,1fr))}.num{font-size:1.8rem;font-weight:700;color:#dfe9f7}
  .muted{color:var(--muted)}
</style>

<h1>ðŸ§¾ Compliance Dashboard</h1>
<div class="grid g-2">
  <div class="card"><div class="muted">Documents Verified</div><div class="num">{{ verified_docs or 184 }}</div></div>
  <div class="card"><div class="muted">Pending Reviews</div><div class="num">{{ pending_reviews or 9 }}</div></div>
  <div class="card"><div class="muted">Audit Accuracy</div><div class="num">98%</div></div>
  <div class="card"><div class="muted">Last AI Scan</div><div class="num">2 hrs ago</div></div>
</div>

<div class="grid g-2" style="margin-top:1rem;">
  <div class="card"><h3>Audit Activity</h3><div id="chart_audit" style="height:260px;"></div></div>
  <div class="card"><h3>AI Risk Monitoring</h3><div id="chart_risk" style="height:260px;"></div></div>
</div>

<script>
const base={chart:{toolbar:{show:false},foreColor:'#c9d3df'},theme:{mode:'dark'},grid:{borderColor:'#2a2e36'},dataLabels:{enabled:false}};
new ApexCharts(document.querySelector("#chart_audit"),{
  ...base,chart:{...base.chart,type:'bar',height:260},
  series:[{name:'Audits',data:[4,6,8,5,7,9,10]}],
  xaxis:{categories:['Mon','Tue','Wed','Thu','Fri','Sat','Sun']},colors:['#7ab8ff']
}).render();
new ApexCharts(document.querySelector("#chart_risk"),{
  ...base,chart:{...base.chart,type:'radialBar',height:260},
  series:[87],labels:['Compliance %'],colors:['#43d19e'],
  plotOptions:{radialBar:{hollow:{size:'60%'},dataLabels:{value:{fontSize:'20px'}}}}
}).render();
</script>
{% endblock %}
